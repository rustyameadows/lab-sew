<main class="projects">
  <header class="projects__header">
    <h1>Projects</h1>
    <%= button_to "New project", projects_path, method: :post %>
  </header>

  <section class="projects__list">
    <% if @design_sessions.any? %>
      <ul>
        <% @design_sessions.each do |session| %>
          <li>
            <a href="<%= project_builder_path(session.uuid) %>">
              <%= session.name.presence || "Untitled project" %>
            </a>
            <small><%= session.uuid %></small>
          </li>
        <% end %>
      </ul>
    <% else %>
      <p>No projects yet. Create one to start designing.</p>
    <% end %>
  </section>

  <section class="assemblies__list">
    <header class="assemblies__header">
      <h2>Assemblies</h2>
      <%= link_to "New assembly", new_assembly_path, class: "builder__link" %>
    </header>

    <% if @assemblies.any? %>
      <ul>
        <% @assemblies.each do |assembly| %>
          <li>
            <strong><%= assembly.name %></strong>
            <small>(<%= assembly.key %> v<%= assembly.version %>)</small>
            <%= link_to "Edit", edit_assembly_path(assembly), class: "builder__link" %>
          </li>
        <% end %>
      </ul>
    <% else %>
      <p>No assemblies yet.</p>
    <% end %>
  </section>
</main>
